{% macro pricingCol(item) %}
<div class="tv_preview__col__item item_side_{{ item.column_side }}" style="margin-top: {{ item.margin_top }}px;">
  <div class="tv_preview__col__top">
    <div class="tv_preview__col__top__bg bg--{{ item.category_background_type ? item.category_background_type : 'green' }}"></div>
    {% if item.category_image.src %}
    {% set sizeAttrs = 'width="{{ item.category_image.width|escape_attr }}" height="{{ item.category_image.height|escape_attr }}"' %}
    {% if item.category_image.size_type == 'auto' %}
    {% set sizeAttrs = 'width="{{ item.category_image.width|escape_attr }}" height="{{ item.category_image.height|escape_attr }}" style="max-width: 100%; height: auto;"' %}
    {% elif item.category_image.size_type == 'auto_custom_max' %}
    {% set sizeAttrs = 'width="{{ item.category_image.max_width|escape_attr }}" height="{{ item.category_image.max_height|escape_attr }}" style="max-width: 100%; height: auto;"' %}
    {% endif %}
    {% set loadingAttr = item.category_image.loading != 'disabled' ? 'loading="{{ item.category_image.loading|escape_attr }}"' : '' %}
    <img src="{{ item.category_image.src|escape_url }}" alt="{{ item.category_image.alt|escape_attr }}" {{ loadingAttr }} {{ sizeAttrs }}>
    {% endif %}
    
    <div class="tv_preview__col__top__text" style="color: {{ item.category_text_color ? item.category_text_color.css : '#fff' }}">
      <h3>
        {{ item.category_title }}
      </h3>
      {% if item.category_description %}
      <p>
        {{ item.category_description }}
      </p>
      {% endif %}
      {% if item.add_coming_soon %}
      <div class="tv_preview__col__coming_soon" style="background-color: #ED1B7F">
        <svg width="73" height="73" viewBox="0 0 73 73" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M44.2989 16.2145C44.1358 16.1488 43.9631 16.1172 43.7903 16.1172C43.1844 16.1172 42.6466 16.5138 42.4495 17.1051C42.1989 17.857 42.5955 18.6868 43.3523 18.9958C47.4257 20.6724 50.7594 23.7798 52.7352 27.7388C54.716 31.6978 55.2002 36.2263 54.093 40.4943C53.8886 41.2876 54.3145 42.1003 55.0639 42.3534C55.2148 42.4021 55.3705 42.4288 55.5287 42.4288C56.1662 42.4288 56.7235 42.0079 56.8841 41.4044C58.2273 36.3966 57.6846 31.0773 55.3559 26.4297C53.0321 21.7747 49.1047 18.149 44.2989 16.217V16.2145Z" fill="white"/>
          <path d="M63.5441 22.3358C60.1302 15.4884 54.3242 10.2251 47.1946 7.51191C47.034 7.45108 46.8685 7.42188 46.6982 7.42188C46.085 7.42188 45.5399 7.82094 45.3428 8.41467C45.0922 9.17387 45.4912 9.99878 46.2529 10.2932C52.6428 12.7533 57.8526 17.4959 60.9186 23.6473C63.9992 29.7866 64.6635 36.8019 62.7922 43.3938C62.5684 44.1822 62.9893 44.9974 63.7485 45.2505C63.8994 45.3016 64.0551 45.3259 64.2133 45.3259C64.8557 45.3259 65.4056 44.9171 65.5784 44.3063C67.693 36.9698 66.9678 29.1661 63.5417 22.3333L63.5441 22.3358Z" fill="white"/>
          <path d="M32.8161 19.7578C31.3634 19.7578 29.9935 20.0741 28.7427 20.6995C25.9809 22.0816 24.1973 24.824 23.5038 28.2039C17.8803 33.8127 10.6047 38.7646 10.5292 38.8157C6.53613 41.5215 5.11993 46.4466 7.1615 50.5297C8.7091 53.6274 11.8408 55.4232 15.2548 55.4232C16.34 55.4232 17.4545 55.2407 18.5544 54.8635C18.6395 54.8343 26.9323 51.9946 34.7847 50.8558C36.471 51.6588 38.2084 52.1017 39.902 52.1017C41.3547 52.1017 42.7247 51.7829 43.9754 51.1624C46.9489 49.6756 48.8859 46.6437 49.4261 42.6263C49.9395 38.8157 49.1243 34.5257 47.1339 30.5472C43.9073 24.0964 38.1549 19.7627 32.8186 19.7627L32.8161 19.7578ZM46.5377 42.2345C46.1313 45.2689 44.7565 47.5124 42.6711 48.5563C41.8292 48.9773 40.8972 49.1914 39.8996 49.1914C35.6388 49.1914 30.9327 45.5049 28.1879 40.0153C24.7083 33.0535 25.5405 25.5564 30.0446 23.3007C30.8865 22.8798 31.8185 22.6681 32.8161 22.6681C37.0769 22.6681 41.783 26.3546 44.5302 31.8442C46.2603 35.3068 46.9757 38.9982 46.5401 42.2369L46.5377 42.2345Z" fill="white"/>
          <path d="M36.5825 31.7812C36.344 31.7812 36.1202 31.8299 35.9206 31.9321C34.7721 32.5064 34.5945 34.4871 35.524 36.3438C36.254 37.8038 37.5315 38.8233 38.6314 38.8233C38.8723 38.8233 39.0937 38.7722 39.2932 38.6725C40.4028 38.1201 40.5878 36.0566 39.6899 34.2584C38.9599 32.8008 37.6824 31.7812 36.5825 31.7812Z" fill="white"/>
          <path d="M34.2225 37.0018C33.31 35.1719 33.2589 33.2569 33.9597 31.9453L27.6938 33.8068C27.9737 35.6172 28.5674 37.5201 29.4896 39.3694C30.4046 41.1993 31.5726 42.8223 32.8622 44.1412L38.1207 40.2405C36.6242 40.0045 35.1058 38.7635 34.2225 37.0018Z" fill="white"/>
          <path d="M28.9614 53.4477C24.5741 54.4551 20.834 55.6426 19.5273 56.0709L23.0508 63.1154C23.5837 64.1787 24.4986 64.9744 25.6326 65.3492C26.0998 65.5049 26.5767 65.5828 27.0536 65.5828C27.7374 65.5828 28.4139 65.4246 29.0392 65.1131L29.65 64.8065C31.8522 63.7042 32.7476 61.0178 31.6453 58.8157L28.9614 53.4453V53.4477Z" fill="white"/>
        </svg>
        <p style="color: #fff">COMING SOON!</p>
      </div>
      {% endif %}
    </div>
  </div>
  <div class="tv_preview__col__items">
    {% for item2 in item.category_items %}
    {% if item2.add_image_before_item_price %}
    <div class="tv_preview__col__pre_price" style="background-color: {{ item2.text_color ? item2.text_color.css : '#ED1B7F' }}">
      {% if item2.image_before_item_price.src %}
      <img src="{{ item2.image_before_item_price.src|escape_url }}" alt="{{ item2.image_before_item_price.alt|escape_attr }}" {{ loadingAttr }} />
      {% endif %}
      <p style="color: {{ item2.text_before_item_price_color ? item2.text_before_item_price_color.css : '#fff' }}">{{ item2.text_before_item_price }}</p>
    </div>
    {% endif %}
    <div class="tv_preview__col__price__holder" style="color: {{ item.category_items_text_color ? item.category_items_text_color.css : '#fff' }}">
      <div class="tv_preview__col__price">
        <div class="tv_preview__col__price__title__holder">
          <div class="tv_preview__col__price__title">
            {{ item2.item_title }}
          </div>
        </div>
        <div class="tv_preview__col__price__value">
          {{ item2.item_price }}
        </div>
      </div>
      {% if item2.item_description %}
      <div class="tv_preview__col__price__description">
        {{ item2.item_description }}
      </div>
      {% endif %}
    </div>
    {% endfor %}
    {% for package in item.category_packages %}
    <div class="package_price" style="top: {{ package.package_top_distance ? package.package_top_distance : '372' }}px; right: {{ package.package_right_distance ? package.package_right_distance : '101' }}px; color: {{ item.category_items_text_color ? item.category_items_text_color.css : '#fff' }}">
      <div class="package_price__box" style="height: {{ package.package_height ? package.package_height : '119' }}px; border-color: {{ item.category_items_text_color ? item.category_items_text_color.css : '#ED1B7F' }}"></div>
      <div class="package_price__text">{{ package.package_text }}</div>
    </div>
    {% endfor %}
  </div>
</div>
{% endmacro %}

<section class="tv_preview" {% if module.background_type == 'image' %}style="background-image: url('{{ module.background_image.src }}')"{% endif %}>
  {% if module.background_type == 'video' %}
  <video class="tv_preview__bg_video" poster="{{ module.background_image.src }}" autoplay muted loop playsinline>
    <source src="{{ module.background_video }}" type="video/mp4">
  </video>
  {% endif %}
  <div class="tv_preview__content">
    <div class="tv_preview__top">
      <div class="tv_preview__top__space"></div>
      <h1 class="tv_preview__heading">
        {{ module.top_heading }}
      </h1>
      <div class="tv_preview__top_logo">
        {% if module.right_logo.src %}
        {% set sizeAttrs = 'width="{{ module.right_logo.width|escape_attr }}" height="{{ module.right_logo.height|escape_attr }}"' %}
        {% if module.right_logo.size_type == 'auto' %}
        {% set sizeAttrs = 'width="{{ module.right_logo.width|escape_attr }}" height="{{ module.right_logo.height|escape_attr }}" style="max-width: 100%; height: auto;"' %}
        {% elif module.right_logo.size_type == 'auto_custom_max' %}
        {% set sizeAttrs = 'width="{{ module.right_logo.max_width|escape_attr }}" height="{{ module.right_logo.max_height|escape_attr }}" style="max-width: 100%; height: auto;"' %}
        {% endif %}
        {% set loadingAttr = module.right_logo.loading != 'disabled' ? 'loading="{{ module.right_logo.loading|escape_attr }}"' : '' %}
        <img src="{{ module.right_logo.src|escape_url }}" alt="{{ module.right_logo.alt|escape_attr }}" {{ loadingAttr }} />
        {% endif %}
      </div>
    </div>
    <div class="tv_preview__prices">
      <div class="tv_preview__col">
        {% for item in module.categories %}
          {% if item.column_side == 'left' %}
            {{ pricingCol(item) }}
          {% endif %}
        {% endfor %}
      </div>
      <div class="tv_preview__col">
        {% for item in module.categories %}
          {% if item.column_side == 'right' %}
            {{ pricingCol(item) }}
          {% endif %}
        {% endfor %}
      </div>
    </div>
  </div>
</section>



